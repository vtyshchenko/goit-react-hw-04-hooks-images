(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3L0sA",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1ow8p"}},15:function(e,t,n){e.exports={ButtonWrapper:"Button_ButtonWrapper__33HL5",Button:"Button_Button__2BYYQ"}},16:function(e,t,n){e.exports={Overlay:"Modal_Overlay__21j6m",Modal:"Modal_Modal__32mLz"}},28:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2s6Dc"}},29:function(e,t,n){e.exports={button:"ButtonClose_button__B7xQg"}},33:function(e,t,n){e.exports={text:"Loader_text__NpEM5"}},39:function(e,t,n){},40:function(e,t,n){},5:function(e,t,n){e.exports={searchbar:"SearchBar_searchbar__37okL",form:"SearchBar_form__2ZMxt",formbutton:"SearchBar_formbutton__2uVe_",formbuttonLabel:"SearchBar_formbuttonLabel__bXxpp",formInput:"SearchBar_formInput__2cPwH"}},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),i=(n(39),n(12)),l=n(4),s=n(11),u=(n(19),n(40),n(5)),b=n.n(u),f=n(1);var m=function(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],o=a[1];return Object(f.jsx)("header",{className:b.a.searchbar,children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t({searchText:c}),o("")):s.b.error("Input search text!")},className:b.a.form,children:[Object(f.jsx)("button",{type:"submit",className:b.a.formButton,children:Object(f.jsx)("span",{className:b.a.formButtonLabel,children:"Search"})}),Object(f.jsx)("input",{className:b.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,value:c,placeholder:"Search images and photos",onChange:function(e){o(e.target.value.toLowerCase())}})]})})},h=n(28),d=n.n(h),j=n(14),p=n.n(j);var g=function(e){var t=e.galleryItem,n=e.onClick;return Object(f.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(f.jsx)("img",{id:t.id,className:p.a.ImageGalleryItemImage,src:t.webformatURL,alt:t.tags,width:t.previewWidth,height:t.previewHeight,onClick:n})})};var O=function(e){var t=e.imageList,n=e.onClick;return Object(f.jsx)("ul",{className:d.a.ImageGallery,children:t.map((function(e){return Object(f.jsx)(g,{galleryItem:e,onClick:n},e.id.toString())}))})},x=n(15),v=n.n(x);var y=function(e){var t=e.onClick;return Object(f.jsx)("div",{className:v.a.ButtonWrapper,children:Object(f.jsx)("button",{className:v.a.Button,type:"button",onClick:t,children:"Load more ..."})})},_=n(18),w=n(34),I=n(29),k=n.n(I),C=["children","onClick"],L=function(e){var t=e.children,n=e.onClick,r=Object(w.a)(e,C);return Object(f.jsx)("button",Object(_.a)(Object(_.a)({type:"button",className:k.a.button,onClick:n},r),{},{children:t}))};L.defaultProps={onClick:function(){return null},children:null};var B=L,S=n(16),N=n.n(S);var E=function(e){var t=e.onClose,n=e.onLeft,a=e.onRight,c=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){switch(e.code){case"Esc":case"Escape":t();break;case"Left":case"ArrowLeft":n();break;case"Right":case"ArrowRight":a()}};return Object(f.jsx)("div",{className:N.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t({})},children:Object(f.jsx)("div",{className:N.a.Modal,children:c})})},G=n(17),F=n.n(G),M=n(30),P=n(31),R=n.n(P),T="https://pixabay.com/api/?image_type=photo&orientation=horizontal",H="23423301-88813f09fe7b27f5f83c66d56";function z(){return(z=Object(M.a)(F.a.mark((function e(t,n,r){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",Promise.resolve(""));case 2:return a="".concat(T,"&q=").concat(t,"&page=").concat(n,"&per_page=").concat(r,"&key=").concat(H),e.abrupt("return",R.a.get(a).then((function(e){if(200===e.status){if(e.data.hits.length>0)return e.data.hits;throw new Error('Images for search "'.concat(t,'" not found.'))}throw new Error('Images for search "'.concat(t,'" not found.'))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e,t,n){return z.apply(this,arguments)},W=n(32),D=n.n(W),q=n(33),J=n.n(q);var Q,U,V=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(D.a,{type:"Circles",color:"#00BFFF",height:60,width:60}),Object(f.jsx)("h2",{className:J.a.text,children:"Loading..."})]})},Y=["title","titleId"];function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function K(e,t){var n=e.title,a=e.titleId,c=Z(e,Y);return r.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Q||(Q=r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),U||(U=r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var $=r.forwardRef(K);n.p;var ee=function(){var e=Object(r.useState)("idle"),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(l.a)(c,2),u=o[0],b=o[1],h=Object(r.useState)(""),d=Object(l.a)(h,2),j=d[0],p=d[1],g=Object(r.useState)([]),x=Object(l.a)(g,2),v=x[0],_=x[1],w=Object(r.useState)(0),I=Object(l.a)(w,2),k=I[0],C=I[1],L=Object(r.useState)(0),S=Object(l.a)(L,2),N=S[0],G=S[1],F=function(){b((function(e){return!e}))},M=function(e){var t=e.searchText,n=t?0:N,r=t?t.toLowerCase().trim():j;a("pending"),p(r),G(n),A(r,N+1,12).then((function(e){a("resolved");var t=!r||j===r;G((function(e){return e+1})),t?(_([].concat(Object(i.a)(v),Object(i.a)(e))),window.scrollBy({top:document.documentElement.clientHeight-260,behavior:"smooth"})):(_(Object(i.a)(e)),document.body.scrollTop=0,document.documentElement.scrollTop=0)})).catch((function(){a("rejected")}))},P="resolved"===n||"pending"===n;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(m,{onSubmit:M}),"rejected"===n&&Object(f.jsxs)("p",{children:["Error. No images were found for your query: ",j,"..."]}),P&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{imageList:v,onClick:function(e){var t=v.filter((function(t){return t.id===Number(e.target.attributes.id.nodeValue)}));C(v.indexOf(t[0])),t.length>0&&F()}}),"pending"===n?Object(f.jsx)(V,{}):Object(f.jsx)(y,{onClick:M})]}),u&&Object(f.jsxs)(E,{onClose:F,onLeft:function(){C((function(e){return 0===e?v.length-1:e-1}))},onRight:function(){C((function(e){return e===v.length-1?0:e+1}))},children:[Object(f.jsx)(B,{onClick:F,"aria-label":"Close modal window",children:Object(f.jsx)($,{fill:"black"})}),Object(f.jsx)("img",{src:v[k].largeImageURL,alt:v[k].tags})]}),Object(f.jsx)(s.a,{autoClose:3e3})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(ee,{})}),document.getElementById("root")),te()}},[[81,1,2]]]);
//# sourceMappingURL=main.dd17c7d8.chunk.js.map